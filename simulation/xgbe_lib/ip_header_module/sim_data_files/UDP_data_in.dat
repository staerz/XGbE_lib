% comments:
% any line started with '%' - flag can be specified as generic in file_reader_hex
anything less than
length of a line
containing data
is also considered
as a comment

% interpreter ignores empty lines as well

% "@" is used to indicate counters for transmission start
% flag can be specified as generic in AV_ST_sender
% must be decimal numbers in increasing order!

% UDP packet: addressed to FPGA2, 0x40 bytes = 4*16 bytes (even number of IPbus words)
% interchange the header line and the corresponding eof line to make it a valid packet with odd number of IPbus words
@ 30
a191 0002 0040 0000
0102 0102 0304 0304
0506 0506 0708 0708
0910 0910 1112 1112
1314 1314 1516 1516
2345 2345 3456 3456
4567 4567 5678 5678
6789 6789 7890 7890 000 0
%7890 7890 xxxx xxxx 100 0

% UDP packet: addressed to FPGA1, 0x40 bytes = 4*16 bytes
@ 45
a193 0002 0040 0000
0809 1011 1213 1234
2345 2345 2345 2345
3456 3456 3456 3456
4567 4567 4567 4567
5678 5678 5678 5678
6789 6789 6789 6789
7890 7890 7890 7890 000 0

% UDP packet 2: addressed to FPGA1
% Wrong UDP length indication: 0x40 bytes = 4*16 bytes
% but only 0x38 bytes = 56 bytes are sent ...
@ 60
a189 0001 0040 0000
0809 1011 1243 1234
2345 2345 2345 2345
3456 3456 3446 3456
4567 4567 4547 4567
5678 5678 5648 5678
6789 6789 6749 6789 000 0

% UDP packet 2: addressed to FPGA2
% Wrong UDP length indication: 0x40 bytes = 4*16 bytes
% but only 0x38 bytes = 56 bytes are sent ...
@ 75
a189 0002 0040 0000
0809 1011 1243 1234
2345 2345 2345 2345
3456 3456 3446 3456
4567 4567 4547 4567
5678 5678 5648 5678
6789 6789 6749 6789 000 0

% Entirely wrong UDP header
% and incompatible eof indicator
% should be skipped
@ 90
0022 8F02 41EE 0019
9912 3956 0800 4500
001d 093c 4000 8011
0000 c0a8 0163 c0a8
001e 1115 0005 0044

0000 20FE DCF0 2FED
011F 0000 0001 1000
0001 0000 0000 0000 110 0

% UDP packet 3: addressed to FPGA1
% Good UDP length indication: 0x3c bytes = 60 bytes
@ 105
04a3 0001 003c 96de
7465 7374 2062 6c61
2062 6c61 2065 7465
2070 7020 4c41 5050
2068 6575 7420 6973
7420 6569 6e20 7775
6e64 6572 7363 686f
656e 6572 0000 0000 100 0

% padded IP packet: addressed to FPGA2
% padding:
% the packet is padded if its length is less then 64 bytes, including the 4 bytes of F(rame) C(heck) S(um)
% so basically this means, a packet is padded, if:
% - it's Ethernet data content (including header) is less than 60 bytes
% - supposing 6+6+2 bytes Ethernet header, it's IPv4 frame length is less than 46 bytes
% - supposing 14+20 bytes Eth+IP header, it's UDPv4 frame length is less than 26 bytes
% The very shortest IPbus packet is chosen: only one word, 0x1000_0001. the XXXX_XXXX is part of the incoming data,
% but should not be transferred to the FPGA2
@ 120
04d2 0002 000c 96de
1000 0001 XXXX XXXX
0000 0000 0000 0000
0000 0000 FC52 1234 100 0

% same for FPGA1, but with 2 IPbus words
@ 135
04d2 0001 0010 96de
1000 0001 2000 0002
0000 0000 0000 0000
0000 0000 FC52 1234 100 0

% packet: addressed to FPGA2
% will be looped back
@ 150
1343 0002 0040 96de
7465 7374 2062 6c61
2062 6c61 2065 7465
2070 7020 4c41 5050
2068 6575 7420 6973
7420 6569 6e20 7775
6e64 6572 7363 686f
656e 6572 2074 6167 000 0

% packet: addressed to FPGA1
% will be looped back
@ 165
04d3 0001 0040 96de
7465 7374 2062 6c61
2062 6c61 2065 7465
2070 7020 4c41 5050
2068 6575 7420 6973
7420 6569 6e20 7775
6e64 6572 7363 686f
656e 6572 2074 6167 000 0

% packet: addressed to FPGA1
% but ultra long - so should be aborted
@ 175
04d3 0001 0040 96de
7465 7374 2062 6c61
2062 6c61 2065 7465
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2070 7020 4c41 5050
2068 6575 7420 6973
7420 6569 6e20 7775
6e64 6572 7363 686f
656e 6572 2074 6167 000 0

% packet: addressed to FPGA2
% will be looped back
@ 375
1343 0002 0040 96de
7465 7374 2062 6c61
2062 6c61 2065 7465
2070 7020 4c41 5050
2068 6575 7420 6973
7420 6569 6e20 7775
6e64 6572 7363 686f
656e 6572 2074 6167 000 0
